<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
    <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/icon/favicon.svg" />
    <link rel="shortcut icon" href="/icon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="LotusRex" />
    <link rel="manifest" href="/icon/site.webmanifest" />
    <script defer src="https://cloud.umami.is/script.js"
        data-website-id="f60d79dd-7473-44c3-99dd-c68242dc95ea"></script>
    <script src="/script/umami-events.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .choice-button {
            transition: transform 0.1s;
        }

        .choice-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">

    <div class="bg-white p-8 rounded-xl shadow-2xl max-w-lg w-full text-center">
        <h2 class="text-3xl font-extrabold text-green-700 mb-2 flex items-center justify-center">
            <i data-lucide="scissors" class="w-8 h-8 mr-2"></i> Batu-Kertas-Gunting
        </h2>
        <p class="text-gray-600 mb-6">Pilih gerakan Anda di bawah ini dan uji keberuntungan Anda melawan komputer!</p>

        <div class="flex justify-around items-center mb-8">
            <div class="text-center">
                <p class="text-2xl font-bold text-gray-800">Anda</p>
                <p id="playerScore" class="text-5xl font-extrabold text-indigo-600 mt-1">0</p>
            </div>
            <div class="text-center">
                <p class="text-2xl font-bold text-gray-800">Komputer</p>
                <p id="computerScore" class="text-5xl font-extrabold text-red-600 mt-1">0</p>
            </div>
        </div>

        <div class="flex justify-around items-center mb-8">
            <button id="rock" data-choice="rock"
                class="choice-button p-4 rounded-full bg-red-100 text-red-600 border-4 border-red-300">
                <i data-lucide="stone" class="w-10 h-10"></i>
            </button>
            <button id="paper" data-choice="paper"
                class="choice-button p-4 rounded-full bg-blue-100 text-blue-600 border-4 border-blue-300">
                <i data-lucide="sticky-note" class="w-10 h-10"></i>
            </button>
            <button id="scissors" data-choice="scissors"
                class="choice-button p-4 rounded-full bg-green-100 text-green-600 border-4 border-green-300">
                <i data-lucide="scissors" class="w-10 h-10"></i>
            </button>
        </div>

        <div id="resultArea" class="bg-gray-100 p-4 rounded-lg shadow-inner">
            <p id="resultMessage" class="text-xl font-bold text-gray-800 mb-2">Pilih gerakan Anda di atas!</p>
            <p id="roundDetails" class="text-sm text-gray-500">Menunggu putaran pertama...</p>
        </div>

        <button id="resetBtn"
            class="mt-6 w-full bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition">
            Mulai Ulang Skor
        </button>
    </div>

    <script>
        // Mapping pilihan ke ikon untuk detail putaran
        const choiceMap = {
            'rock': 'Batu ✊',
            'paper': 'Kertas ✋',
            'scissors': 'Gunting ✌️'
        };

        let playerScore = 0;
        let computerScore = 0;

        const playerScoreDisplay = document.getElementById('playerScore');
        const computerScoreDisplay = document.getElementById('computerScore');
        const resultMessage = document.getElementById('resultMessage');
        const roundDetails = document.getElementById('roundDetails');
        const resetBtn = document.getElementById('resetBtn');
        const choiceButtons = document.querySelectorAll('.choice-button');

        // Logika Komputer
        function getComputerChoice() {
            const choices = ['rock', 'paper', 'scissors'];
            const randomIndex = Math.floor(Math.random() * 3);
            return choices[randomIndex];
        }

        // Logika Permainan
        function determineWinner(playerChoice, computerChoice) {
            if (playerChoice === computerChoice) {
                return 'draw'; // Seri
            }
            if (
                (playerChoice === 'rock' && computerChoice === 'scissors') ||
                (playerChoice === 'paper' && computerChoice === 'rock') ||
                (playerChoice === 'scissors' && computerChoice === 'paper')
            ) {
                return 'player'; // Pemain menang
            }
            return 'computer'; // Komputer menang
        }

        // Perbarui Tampilan
        function updateScore(winner) {
            if (winner === 'player') {
                playerScore++;
                resultMessage.textContent = 'Anda Menang!';
                resultMessage.className = 'text-xl font-bold text-green-600 mb-2';
            } else if (winner === 'computer') {
                computerScore++;
                resultMessage.textContent = 'Anda Kalah.';
                resultMessage.className = 'text-xl font-bold text-red-600 mb-2';
            } else {
                resultMessage.textContent = 'Seri!';
                resultMessage.className = 'text-xl font-bold text-gray-600 mb-2';
            }

            playerScoreDisplay.textContent = playerScore;
            computerScoreDisplay.textContent = computerScore;
        }

        // Fungsi Main Game
        function playRound(playerChoice) {
            const computerChoice = getComputerChoice();
            const winner = determineWinner(playerChoice, computerChoice);

            updateScore(winner);

            roundDetails.textContent =
                `Anda memilih ${choiceMap[playerChoice]}, Komputer memilih ${choiceMap[computerChoice]}.`;
        }

        // --- Event Listeners ---
        choiceButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const playerChoice = e.currentTarget.dataset.choice;
                playRound(playerChoice);
            });
        });

        resetBtn.addEventListener('click', () => {
            playerScore = 0;
            computerScore = 0;
            playerScoreDisplay.textContent = 0;
            computerScoreDisplay.textContent = 0;
            resultMessage.textContent = 'Skor diulang. Mulai putaran baru!';
            resultMessage.className = 'text-xl font-bold text-gray-800 mb-2';
            roundDetails.textContent = 'Menunggu putaran pertama...';
        });

        // Inisialisasi Lucide Icons
        lucide.createIcons();
    </script>
</body>

</html>